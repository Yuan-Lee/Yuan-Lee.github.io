<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>地理位置</title>
	<style>
		#mymap{
			height: 500px;
		}
	</style>
</head>
<body>
	<p>经度：<span id="jindu"></span></p>
	<p>纬度：<span id="weidu"></span></p>
	<p>海拔：<span id="haiba"></span></p>
	<p>指南针方向：<span id="fangxiang"></span></p>
	<div id="mymap"></div>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=e6MYlnPHSuU8eK7csIcYVeA7eFp3sZOd"></script>
	<script>
		var jindu = document.getElementById('jindu'),
			weidu = document.getElementById('weidu'),
			haiba = document.getElementById('haiba'),
			fangxiang = document.getElementById('fangxiang'),
			x,y,h,p;
		function getPosition(){
			navigator.geolocation.getCurrentPosition(function(position){
				x = position.coords.latitude;
				y = position.coords.longitude;
				h = position.coords.altitude;
				p = position.coords.heading;
			})
			jindu.innerText = x;
			weidu.innerText = y;
			haiba.innerText = h;
			fangxiang.innerText = p;
			map.panTo(new BMap.Point(x, y));
		}
		setInterval(getPosition, 60)
		var map = new BMap.Map("mymap");    // 创建Map实例
		map.centerAndZoom(new BMap.Point(x, y), 15);  // 初始化地图,设置中心点坐标和地图级别
	</script>
</body>
</html>