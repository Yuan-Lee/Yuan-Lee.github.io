$(function(){function s(s,e){s.slimscroll({height:e})}function e(){if(u.height()>=p-r){s(u,p-r)}}function i(s){$(s).stop().slideDown(150).closest("li").addClass("open"),$(s).prev().find(".arrow").removeClass("fa-angle-right").addClass("fa-angle-down")}function t(s){$(s).stop().slideUp(150).closest("li").removeClass("open"),$(s).prev().find(".arrow").removeClass("fa-angle-down").addClass("fa-angle-right")}function a(s,e,i){h.css({top:s,bottom:e,height:i})}function n(s){u.slimscroll({destroy:!0}).css({height:"auto"}),a("auto","auto","auto"),s.closest("li").removeClass("hover"),$("[data-id="+s.data("show")+"]").hide().closest(h).hide()}function o(){var e=$(".mail-list-wrap .tab-content");if(!(e.length<=0)){var i=$(window).height()-e.offset().top,t=$(".mail-search-result .user-list");if(!(e.length<=0)){var a=$(window).height()-t.offset().top;s(e,i),s(t,a)}}}var l,c,r=$(".navbar").height(),d=$(".js-nav-wrap"),h=$(".subNav-modal"),u=$(".subNav-modal-container"),f=($(".subNav"),$(".sidebar")),g=$(".js-siderbar-collapse"),p=$(window).height();$(window).resize(function(){p=$(window).height(),$nav_height=p-3*r+12,d.slimscroll({destroy:!0}).css({height:"auto"}),s(d,$nav_height)}).trigger("resize"),$(".nav-list").on("click",function(s){function e(s){return"A"===s.nodeName?s:e(s.parentNode)}s.stopPropagation();var a=$(e(s.target));!f.hasClass("collapsed")&&a.is("A")&&(a.hasClass("dropdown-toggle")?a.closest("li").hasClass("open")?t(a.next()):(a.closest("li").siblings().removeClass("open active").find("li").removeClass("active"),i(a.next()),t(a.closest("li").siblings().find(".submenu"))):(a.closest("li").addClass("active").siblings().removeClass("open active").find("li").removeClass("active"),t(a.closest("li").siblings().find(".submenu"))))}),$(".nav-list a[data-show]").on("mouseenter",function(){var s=$(this),i=s.offset().top-r-$(window).scrollTop(),t=p-r,n=0;clearTimeout(l),l=setTimeout(function(){s.closest("li").addClass("hover").siblings().removeClass("hover"),f.hasClass("collapsed")&&($("[data-id="+s.data("show")+"]").show().siblings().hide().closest(h).show(),n=h.height(),t<=n?(a(0,"auto",t),e()):i<t-n?a(i,"auto","auto"):i>=t-n&&t>n&&a("auto",0,"auto"))},150)}).on("mouseleave",function(){var s=!1,e=$(this);clearTimeout(l),clearTimeout(c),h.on("mouseenter",function(){s=!0}).on("mouseleave",function(){n(e)}),c=setTimeout(function(){!1===s&&n(e)},150)}),g.on("click",function(){$(".nav-list > li").removeClass("open").find(".submenu").stop().slideUp(150),f.hasClass("collapsed")?($(this).find("i").removeClass("icon-indent").addClass("icon-dedent"),f.stop().animate({width:210},150,function(){$(this).removeClass("collapsed"),$(window).trigger("resize")}).next().stop().animate({"margin-left":210},150)):($(this).find("i").removeClass("icon-dedent").addClass("icon-indent"),f.addClass("collapsed").stop().animate({width:60},150,function(){$(window).trigger("resize")}).next().stop().animate({"margin-left":60},150))}),$(".js-dropbox-toggle").on("click",function(){$(this).next().toggle().closest("li").toggleClass("open").siblings().removeClass("open").find(".dropbox").hide(),o()}),$(window).on("resize",function(){o()}).trigger("resize"),$(".panel-collapse").on("shown.bs.collapse",function(){$(this).parent().find(".panel-title i").removeClass("fa-caret-right").addClass("fa-caret-down")}).on("hidden.bs.collapse",function(){$(this).parent().find(".panel-title i").removeClass("fa-caret-down").addClass("fa-caret-right")}),$(".mail-search input").on("focus",function(){$(this).closest(".input-icon").addClass("focus"),$(".mail-search-result").removeClass("hidden").addClass("show"),$(".mail-list-wrap").removeClass("show").addClass("hidden"),o()}),$(".mail-search-close").on("click",function(){$(this).closest(".input-icon").removeClass("focus").find("input").val(""),$(".mail-search-result").removeClass("show").addClass("hidden"),$(".mail-list-wrap").removeClass("hidden").addClass("show"),o()}),$("[data-toggle=show-user-detail]").on("click",function(){$(this).parent().hasClass("open")?$(this).parent().removeClass("open"):$(this).parent().addClass("open").siblings().removeClass("open")}),$("[data-action=select]").on("click",function(){if($(this).hasClass("disabled"))return!1;$(this).parent().hasClass("multiselect")||$(this).hasClass("selected")?$(this).toggleClass("selected"):$(this).addClass("selected").siblings().removeClass("selected")}),$(".module-nav >ul>li>a").on("click",function(s){$(this).closest("li").hasClass("open")?t($(this).next()):(i($(this).next()),t($(this).closest("li").siblings().find(".module-style-list")),$(this).closest("li").siblings().removeClass("open"))}),$(window).resize(function(){var s=$(".js-iframe-page");s.length>0&&s.each(function(e){s.eq(e).css({"padding-bottom":$(window).height()-s.eq(e).offset().top})})}).trigger("resize")}),$(function(){!function(){$(".chosen-select")&&($(".chosen-select").chosen({allow_single_deselect:!0,disable_search_threshold:10}),$(window).off("resize.chosen").on("resize.chosen",function(){$(".chosen-select").each(function(){var s=$(this);s.next().css({width:s.width()})})}).trigger("resize.chosen"))}()}),$(function(){function s(){var s=$(".js-pageTab");r=$sub_w=0,r=o.width(),s.each(function(s){$sub_w=$sub_w+$(this).outerWidth()+1}),$sub_w>=r?(a.addClass("show"),n.addClass("show")):(a.removeClass("show"),n.removeClass("show")),l.css("width",$sub_w)}function e(){$sub_w<=r&&i(0),$sub_w>r&&i(r-$sub_w)}function i(s){l.stop().animate({"margin-left":s},300)}function t(){s(),e()}var a=$(".js-pageTabLeft"),n=$(".js-pageTabRight"),o=$(".js-pageTabs"),l=$(".js-pageTabsContainer"),c=$(".js-pageTab"),r=$sub_w=0;$(window).resize(function(){t()}).trigger("resize"),a.on("click",function(s){var e=parseInt(l.css("margin-left"));if(0==e||$sub_w<=r)return!1;i(Math.abs(e)<=r?0:e+r)}),n.on("click",function(s){var e=parseInt(l.css("margin-left"));if(e==r-$sub_w||$sub_w<=r)return!1;i(Math.abs(e)>=$sub_w-2*r?r-$sub_w:e-r)}),c.on("click",function(s){s.preventDefault(),$(this).addClass("active").siblings().removeClass("active")}).find("i").on("click",function(e){var t=parseInt(l.css("margin-left")),a=$(this).parent().outerWidth()+1;e.preventDefault(),$(this).parent().remove(),s(),i(Math.abs(t)>a?t+a:0)}),$(".label-select .label-select-item").on("click",function(){if($(this).hasClass("disabled"))return!1;$(this).parent().hasClass("multiselect")?$(this).toggleClass("active"):$(this).addClass("active").siblings().removeClass("active")})});