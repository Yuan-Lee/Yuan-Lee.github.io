$(function(){

	// 班级标签筛选
	$('.label-select .label-select-item').on('click',function(){
		if($(this).hasClass('disabled')){
			return false;
		}else if($(this).parent().hasClass('multiselect')){
			$(this).toggleClass('active');
		}else{
			$(this).addClass('active').siblings().removeClass('active');
		}
	});

	// 统计维度设置增加分数线
	$('.js-gradeset-add').click(function(){
		var $item='<div class="gradeset-item"><a href="javascript:void(0);" class="red gradeset-close"><i class="fa fa-trash"></i></a><input class="input-sm" type="text" placeholder="请输入分数线名称">&nbsp;<select name="" id=""><option value="0">请输入统计方式</option><option value="1">请输入百分比</option><option value="2">请输入名次</option><option value="3">请输入分值</option></select>&nbsp;<input class="input-sm" type="text" placeholder="请输入百分比">&nbsp;<span></span></div>';
		$(this).parent().find('.gradeset-content').append($item);
	});
	$(document).on('click','.gradeset-close',function(){
		$(this).parent().remove();
	});
	$(document).on('change','.gradeset-item select',function(){
		var $value=$(this).find('option:selected').attr('value');
		if($value==1){
			$(this).parent().find('>span').html('% <strong>该比例换算成分数为640分</strong>');
		}else if($value==2){
			$(this).parent().find('>span').html('<strong>该名次换算成分数为640分</strong>');
		}else{
			$(this).parent().find('>span').html('');
		}
	});

	// 新增科目及分数
	$('.add-exam-btn').click(function(){
		var $exam_item='<div class="widget-box widget-box-lightblue add-exam-item"><div class="widget-header"><select class="form-control"><option value="">请选择考试科目</option></select><span class="widget-toolbar"><a href="#" data-action="close"><i class="ace-icon fa fa-times bigger-130"></i></a></span></div><div class="widget-body"><div class="widget-main padding-12"><div class="filter"><div class="filter-item block no-float"><label class="filter-name"><input name="form-field-radio" type="radio" class="ace"><span class="lbl"> 只设置总分分数</span></label><div class="filter-content"><input type="text" class="form-control" placeholder="请输入试卷总分"></div></div><div class="filter-item block no-float"><label class="filter-name"><input name="form-field-radio" type="radio" class="ace"><span class="lbl"> 分别设置主客观题分数</span></label><div class="filter-content"><input type="text" class="form-control" placeholder="请输入客观题分数"><input type="text" class="form-control" placeholder="请输入主观题分数"></div></div></div></div></div></div>';
		$(this).parent().before($exam_item);
	});
})